# ğŸ—„ï¸ à¸à¸²à¸£à¸­à¸­à¸à¹à¸šà¸š pp30_status - à¹„à¸¡à¹ˆà¸¡à¸µà¸„à¸­à¸¥à¸±à¸¡à¸™à¹Œà¹ƒà¸™à¸à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥

## âœ… à¸¢à¸·à¸™à¸¢à¸±à¸™: à¹„à¸¡à¹ˆà¸¡à¸µà¸„à¸­à¸¥à¸±à¸¡à¸™à¹Œ `pp30_status` à¹ƒà¸™à¸•à¸²à¸£à¸²à¸‡ `monthly_tax_data`

**à¸•à¸²à¸£à¸²à¸‡:** `monthly_tax_data`  
**à¸„à¸­à¸¥à¸±à¸¡à¸™à¹Œà¸—à¸µà¹ˆà¹€à¸à¸µà¹ˆà¸¢à¸§à¸‚à¹‰à¸­à¸‡à¸à¸±à¸š à¸ .à¸.30:**
- âœ… `pp30_filing_response` (TEXT) - à¸•à¸­à¸šà¸à¸¥à¸±à¸šà¸‡à¸²à¸™à¸¢à¸·à¹ˆà¸™à¸ à¸²à¸©à¸µ à¸ .à¸.30
- âœ… `pp30_sent_to_customer_date` (DATETIME) - à¸§à¸±à¸™à¸—à¸µà¹ˆà¸ªà¹ˆà¸‡à¸¥à¸¹à¸à¸„à¹‰à¸² à¸ .à¸.30
- âœ… `pp30_review_returned_date` (DATETIME) - à¸§à¸±à¸™à¸—à¸µà¹ˆà¸ªà¹ˆà¸‡à¸•à¸£à¸§à¸ˆà¸„à¸·à¸™ à¸ .à¸.30
- âœ… `pp30_sent_for_review_date` (DATETIME) - à¸§à¸±à¸™à¸—à¸µà¹ˆà¸ªà¹ˆà¸‡à¸•à¸£à¸§à¸ˆ à¸ .à¸.30
- âœ… `vat_draft_completed_date` (DATETIME) - à¸§à¸±à¸™à¸—à¸µà¹ˆà¸£à¹ˆà¸²à¸‡à¹à¸šà¸šà¹€à¸ªà¸£à¹‡à¸ˆà¹à¸¥à¹‰à¸§ VAT
- âœ… `pp30_form` (BOOLEAN) - à¸¡à¸µà¹à¸šà¸šà¸Ÿà¸­à¸£à¹Œà¸¡ à¸ .à¸.30 à¸«à¸£à¸·à¸­à¹„à¸¡à¹ˆ
- âŒ **à¹„à¸¡à¹ˆà¸¡à¸µ** `pp30_status` (VARCHAR/ENUM) - **à¹„à¸¡à¹ˆà¸¡à¸µà¸„à¸­à¸¥à¸±à¸¡à¸™à¹Œà¸™à¸µà¹‰**

---

## ğŸ¯ à¹€à¸«à¸•à¸¸à¸œà¸¥à¸—à¸µà¹ˆà¹„à¸¡à¹ˆà¸¡à¸µà¸„à¸­à¸¥à¸±à¸¡à¸™à¹Œ `pp30_status`

### 1. **Normalization à¹à¸¥à¸° Data Integrity**
- à¸ªà¸–à¸²à¸™à¸°à¸ªà¸²à¸¡à¸²à¸£à¸– derive à¹„à¸”à¹‰à¸ˆà¸²à¸ timestamp fields à¸—à¸µà¹ˆà¸¡à¸µà¸­à¸¢à¸¹à¹ˆà¹à¸¥à¹‰à¸§
- à¹„à¸¡à¹ˆà¸•à¹‰à¸­à¸‡à¹€à¸à¹‡à¸šà¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸‹à¹‰à¸³à¸‹à¹‰à¸­à¸™ (redundant data)
- à¸¥à¸”à¸„à¸§à¸²à¸¡à¹€à¸ªà¸µà¹ˆà¸¢à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹„à¸¡à¹ˆà¸ªà¸­à¸”à¸„à¸¥à¹‰à¸­à¸‡à¸à¸±à¸™ (inconsistency)

### 2. **Timestamp-based Status**
- à¸ªà¸–à¸²à¸™à¸° "à¸ªà¹ˆà¸‡à¸¥à¸¹à¸à¸„à¹‰à¸²à¹à¸¥à¹‰à¸§" = à¸¡à¸µ `pp30_sent_to_customer_date`
- à¸ªà¸–à¸²à¸™à¸° "à¸Šà¸³à¸£à¸°à¹à¸¥à¹‰à¸§" = à¸¡à¸µ `pp30_filing_response`
- à¸ªà¸–à¸²à¸™à¸° "à¸£à¹ˆà¸²à¸‡à¹à¸šà¸šà¹€à¸ªà¸£à¹‡à¸ˆà¹à¸¥à¹‰à¸§" = à¸¡à¸µ `vat_draft_completed_date`
- à¸ªà¸–à¸²à¸™à¸° "à¸£à¸­à¸•à¸£à¸§à¸ˆà¸­à¸µà¸à¸„à¸£à¸±à¹‰à¸‡" = à¸¡à¸µ `pp30_review_returned_date`
- à¸ªà¸–à¸²à¸™à¸° "à¸£à¸­à¸•à¸£à¸§à¸ˆ" = à¸¡à¸µ `pp30_sent_for_review_date`

### 3. **Single Source of Truth**
- à¹ƒà¸Šà¹‰ timestamp fields à¹€à¸›à¹‡à¸™ source of truth
- à¸ªà¸–à¸²à¸™à¸° derive à¸ˆà¸²à¸ timestamp à¸¥à¹ˆà¸²à¸ªà¸¸à¸” (latest timestamp wins)
- Frontend à¹à¸¥à¸° Backend à¹ƒà¸Šà¹‰ logic à¹€à¸”à¸µà¸¢à¸§à¸à¸±à¸™ (`derivePp30Status`)

---

## ğŸ”„ à¸§à¸´à¸˜à¸µà¸à¸²à¸£à¸—à¸³à¸‡à¸²à¸™ (à¹‚à¸”à¸¢à¹„à¸¡à¹ˆà¸¡à¸µà¸„à¸­à¸¥à¸±à¸¡à¸™à¹Œ pp30_status)

### à¹€à¸¡à¸·à¹ˆà¸­à¸šà¸±à¸™à¸—à¸¶à¸ (Frontend â†’ Backend â†’ Database)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. Frontend: à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¹€à¸¥à¸·à¸­à¸à¸ªà¸–à¸²à¸™à¸° "à¸Šà¸³à¸£à¸°à¹à¸¥à¹‰à¸§" (paid)            â”‚
â”‚    formValues.pp30_status = 'paid'                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. Frontend: à¸ªà¹ˆà¸‡à¹„à¸› Backend                                 â”‚
â”‚    PUT /api/monthly-tax-data/{id}                           â”‚
â”‚    Body: { pp30_status: 'paid', ... }                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. Backend: à¸£à¸±à¸š pp30_status à¹à¸¥à¸°à¹à¸›à¸¥à¸‡à¹€à¸›à¹‡à¸™à¸„à¸­à¸¥à¸±à¸¡à¸™à¹Œà¸—à¸µà¹ˆà¹€à¸à¹‡à¸šà¸ˆà¸£à¸´à¸‡  â”‚
â”‚    switch (pp30_status) {                                   â”‚
â”‚      case 'paid':                                           â”‚
â”‚        pp30_filing_response = 'paid'                       â”‚
â”‚        break                                                â”‚
â”‚      case 'sent_to_customer':                               â”‚
â”‚        pp30_sent_to_customer_date = NOW()                   â”‚
â”‚        break                                                â”‚
â”‚      ...                                                    â”‚
â”‚    }                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. Database: UPDATE monthly_tax_data SET                   â”‚
â”‚    pp30_filing_response = 'paid',                          â”‚
â”‚    pp30_sent_to_customer_date = NULL,                       â”‚
â”‚    ...                                                      â”‚
â”‚    WHERE id = ?                                             â”‚
â”‚                                                             â”‚
â”‚    âŒ à¹„à¸¡à¹ˆà¸¡à¸µ pp30_status column                              â”‚
â”‚    âœ… à¹€à¸à¹‡à¸šà¹ƒà¸™ pp30_filing_response à¹à¸—à¸™                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### à¹€à¸¡à¸·à¹ˆà¸­à¸­à¹ˆà¸²à¸™à¸à¸¥à¸±à¸šà¸¡à¸² (Database â†’ Backend â†’ Frontend)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. Database: SELECT à¸ˆà¸²à¸ monthly_tax_data                   â”‚
â”‚    - pp30_filing_response = 'paid'                         â”‚
â”‚    - pp30_sent_to_customer_date = NULL                      â”‚
â”‚    - vat_draft_completed_date = '2026-02-03 13:41:42'      â”‚
â”‚    âŒ à¹„à¸¡à¹ˆà¸¡à¸µ pp30_status column                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. Backend: Derive pp30_status à¸ˆà¸²à¸ fields                  â”‚
â”‚    function derivePp30StatusFromRow(row) {                  â”‚
â”‚      if (row.pp30_filing_response) return 'paid'           â”‚
â”‚      // à¹ƒà¸Šà¹‰ timestamp à¸¥à¹ˆà¸²à¸ªà¸¸à¸”                               â”‚
â”‚      return 'sent_to_customer' // à¸ˆà¸²à¸ pp30_sent_to_...    â”‚
â”‚    }                                                        â”‚
â”‚                                                             â”‚
â”‚    responseData = {                                         â”‚
â”‚      ...row,                                                â”‚
â”‚      pp30_status: derivePp30StatusFromRow(row)             â”‚
â”‚    }                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. Frontend: à¸£à¸±à¸š response à¸—à¸µà¹ˆà¸¡à¸µ pp30_status                â”‚
â”‚    {                                                        â”‚
â”‚      pp30_filing_response: 'paid',                         â”‚
â”‚      pp30_status: 'paid'  // â† derive à¸¡à¸²à¹ƒà¸«à¹‰                â”‚
â”‚      ...                                                    â”‚
â”‚    }                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Mapping: à¸ªà¸–à¸²à¸™à¸° â†’ à¸„à¸­à¸¥à¸±à¸¡à¸™à¹Œà¸—à¸µà¹ˆà¹€à¸à¹‡à¸šà¹ƒà¸™ DB

| à¸ªà¸–à¸²à¸™à¸°à¸—à¸µà¹ˆà¹€à¸¥à¸·à¸­à¸ | à¸„à¸­à¸¥à¸±à¸¡à¸™à¹Œà¸—à¸µà¹ˆà¸–à¸¹à¸à¸­à¸±à¸›à¹€à¸”à¸• | à¸„à¹ˆà¸²à¸—à¸µà¹ˆà¹€à¸à¹‡à¸š | à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡ |
|---------------|---------------------|-----------|----------|
| `'paid'` (à¸Šà¸³à¸£à¸°à¹à¸¥à¹‰à¸§) | `pp30_filing_response` | `'paid'` à¸«à¸£à¸·à¸­à¸„à¹ˆà¸²à¸—à¸µà¹ˆà¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¸à¸£à¸­à¸ | `'paid'` |
| `'sent_to_customer'` (à¸ªà¹ˆà¸‡à¸¥à¸¹à¸à¸„à¹‰à¸²à¹à¸¥à¹‰à¸§) | `pp30_sent_to_customer_date` | Timestamp | `'2026-02-03 14:54:14'` |
| `'draft_completed'` (à¸£à¹ˆà¸²à¸‡à¹à¸šà¸šà¹€à¸ªà¸£à¹‡à¸ˆà¹à¸¥à¹‰à¸§) | `vat_draft_completed_date` | Timestamp | `'2026-02-03 13:41:42'` |
| `'pending_review'` (à¸£à¸­à¸•à¸£à¸§à¸ˆ) | `pp30_sent_for_review_date` | Timestamp | `'2026-02-03 10:00:00'` |
| `'pending_recheck'` (à¸£à¸­à¸•à¸£à¸§à¸ˆà¸­à¸µà¸à¸„à¸£à¸±à¹‰à¸‡) | `pp30_review_returned_date` | Timestamp | `'2026-02-03 11:46:10'` |
| `'not_started'` (à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¹€à¸£à¸´à¹ˆà¸¡) | à¹„à¸¡à¹ˆà¸¡à¸µ (à¹à¸•à¹ˆà¸¡à¸µ `pp30_form = true`) | - | - |

---

## ğŸ” à¸§à¸´à¸˜à¸µà¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸§à¹ˆà¸²à¹€à¸à¹‡à¸šà¸–à¸¹à¸à¸•à¹‰à¸­à¸‡ (à¹‚à¸”à¸¢à¹„à¸¡à¹ˆà¸¡à¸µ pp30_status column)

### 1. à¹€à¸Šà¹‡à¸„à¸„à¸­à¸¥à¸±à¸¡à¸™à¹Œà¸—à¸µà¹ˆà¹€à¸à¹‡à¸šà¸ˆà¸£à¸´à¸‡

```sql
SELECT 
  id,
  build,
  pp30_filing_response,           -- à¸ªà¸³à¸«à¸£à¸±à¸š 'paid'
  pp30_sent_to_customer_date,      -- à¸ªà¸³à¸«à¸£à¸±à¸š 'sent_to_customer'
  pp30_review_returned_date,        -- à¸ªà¸³à¸«à¸£à¸±à¸š 'pending_recheck'
  pp30_sent_for_review_date,        -- à¸ªà¸³à¸«à¸£à¸±à¸š 'pending_review'
  vat_draft_completed_date,         -- à¸ªà¸³à¸«à¸£à¸±à¸š 'draft_completed'
  pp30_form,                        -- à¸ªà¸³à¸«à¸£à¸±à¸š 'not_started'
  updated_at
FROM monthly_tax_data 
WHERE build = '018';
```

### 2. à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡à¸œà¸¥à¸¥à¸±à¸à¸˜à¹Œ

**à¸–à¹‰à¸²à¹€à¸¥à¸·à¸­à¸ "à¸Šà¸³à¸£à¸°à¹à¸¥à¹‰à¸§":**
```
pp30_filing_response = 'paid'
pp30_sent_to_customer_date = NULL (à¸«à¸£à¸·à¸­à¸¡à¸µà¸„à¹ˆà¸²à¸–à¹‰à¸²à¹€à¸„à¸¢à¸ªà¹ˆà¸‡à¸¥à¸¹à¸à¸„à¹‰à¸²à¹à¸¥à¹‰à¸§)
vat_draft_completed_date = '2026-02-03 13:41:42' (à¸–à¹‰à¸²à¹€à¸„à¸¢à¸£à¹ˆà¸²à¸‡à¹à¸šà¸šà¹€à¸ªà¸£à¹‡à¸ˆà¹à¸¥à¹‰à¸§)
```

**à¸–à¹‰à¸²à¹€à¸¥à¸·à¸­à¸ "à¸ªà¹ˆà¸‡à¸¥à¸¹à¸à¸„à¹‰à¸²à¹à¸¥à¹‰à¸§":**
```
pp30_filing_response = NULL (à¸«à¸£à¸·à¸­à¸„à¹ˆà¸²à¸–à¹‰à¸²à¹€à¸„à¸¢à¸Šà¸³à¸£à¸°à¹à¸¥à¹‰à¸§)
pp30_sent_to_customer_date = '2026-02-03 14:54:14'
vat_draft_completed_date = '2026-02-03 13:41:42'
```

### 3. Derive à¸ªà¸–à¸²à¸™à¸°à¸ˆà¸²à¸à¸„à¸­à¸¥à¸±à¸¡à¸™à¹Œ

```sql
-- à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡: Derive pp30_status à¸ˆà¸²à¸à¸„à¸­à¸¥à¸±à¸¡à¸™à¹Œà¸—à¸µà¹ˆà¸¡à¸µ
SELECT 
  id,
  build,
  CASE 
    WHEN pp30_filing_response IS NOT NULL AND pp30_filing_response != '' 
      THEN 'paid'
    WHEN pp30_sent_to_customer_date IS NOT NULL 
      THEN 'sent_to_customer'
    WHEN pp30_review_returned_date IS NOT NULL 
      THEN 'pending_recheck'
    WHEN pp30_sent_for_review_date IS NOT NULL 
      THEN 'pending_review'
    WHEN vat_draft_completed_date IS NOT NULL 
      THEN 'draft_completed'
    WHEN pp30_form = 1 
      THEN 'not_started'
    ELSE NULL
  END AS derived_pp30_status,
  pp30_filing_response,
  pp30_sent_to_customer_date,
  vat_draft_completed_date
FROM monthly_tax_data 
WHERE build = '018';
```

---

## âœ… à¸ªà¸£à¸¸à¸›

1. **à¹„à¸¡à¹ˆà¸¡à¸µà¸„à¸­à¸¥à¸±à¸¡à¸™à¹Œ `pp30_status` à¹ƒà¸™à¸à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥** âœ…
2. **à¹€à¸à¹‡à¸šà¸ªà¸–à¸²à¸™à¸°à¹ƒà¸™à¸„à¸­à¸¥à¸±à¸¡à¸™à¹Œà¸­à¸·à¹ˆà¸™:**
   - `pp30_filing_response` (à¸ªà¸³à¸«à¸£à¸±à¸š 'paid')
   - `pp30_sent_to_customer_date` (à¸ªà¸³à¸«à¸£à¸±à¸š 'sent_to_customer')
   - `vat_draft_completed_date` (à¸ªà¸³à¸«à¸£à¸±à¸š 'draft_completed')
   - `pp30_review_returned_date` (à¸ªà¸³à¸«à¸£à¸±à¸š 'pending_recheck')
   - `pp30_sent_for_review_date` (à¸ªà¸³à¸«à¸£à¸±à¸š 'pending_review')
3. **Backend à¹à¸¥à¸° Frontend derive à¸ªà¸–à¸²à¸™à¸°à¸ˆà¸²à¸à¸„à¸­à¸¥à¸±à¸¡à¸™à¹Œà¹€à¸«à¸¥à¹ˆà¸²à¸™à¸µà¹‰** à¹‚à¸”à¸¢à¹ƒà¸Šà¹‰ `derivePp30Status` / `derivePp30StatusFromRow`
4. **Backend response à¸ˆà¸°à¸¡à¸µ `pp30_status` à¸—à¸µà¹ˆ derive à¸¡à¸²à¹ƒà¸«à¹‰** à¹€à¸à¸·à¹ˆà¸­à¹ƒà¸«à¹‰ frontend à¹ƒà¸Šà¹‰à¹à¸ªà¸”à¸‡à¸œà¸¥

**à¸£à¸°à¸šà¸šà¸—à¸³à¸‡à¸²à¸™à¸–à¸¹à¸à¸•à¹‰à¸­à¸‡à¹à¸¥à¹‰à¸§** - à¹„à¸¡à¹ˆà¸ˆà¸³à¹€à¸›à¹‡à¸™à¸•à¹‰à¸­à¸‡à¸¡à¸µà¸„à¸­à¸¥à¸±à¸¡à¸™à¹Œ `pp30_status` à¹ƒà¸™à¸à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ à¹€à¸à¸£à¸²à¸°à¸ªà¸²à¸¡à¸²à¸£à¸– derive à¹„à¸”à¹‰à¸ˆà¸²à¸ timestamp fields à¸—à¸µà¹ˆà¸¡à¸µà¸­à¸¢à¸¹à¹ˆà¹à¸¥à¹‰à¸§
