# üìä ‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÅ‡∏´‡∏•‡πà‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏≤‡∏Ç‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• - ‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏†‡∏≤‡∏©‡∏µ‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡πÄ‡∏î‡∏∑‡∏≠‡∏ô

## üéØ ‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå
‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏ô‡∏µ‡πâ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏ß‡πà‡∏≤ **‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏†‡∏≤‡∏©‡∏µ‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡∏™‡πà‡∏ß‡∏ô‡πÑ‡∏´‡∏ô‡∏ö‡πâ‡∏≤‡∏á** ‡πÅ‡∏•‡∏∞ **‡∏ó‡∏≥‡πÑ‡∏°‡∏ö‡∏≤‡∏á‡∏™‡πà‡∏ß‡∏ô‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏°‡∏≤**

---

## üìã ‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö

### ‚úÖ **‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏î‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á**

#### 1. **Backend API - ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å Database**
- **Route**: `GET /api/monthly-tax-data/:build/:year/:month`
- **File**: `backend/routes/monthly-tax-data.js` (line 508-635)
- **Query**: SELECT ‡∏ó‡∏∏‡∏Å fields ‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á ‡∏£‡∏ß‡∏°‡∏ñ‡∏∂‡∏á:
  - `pnd_status` ‚úÖ
  - `pnd_1_40_1_status`, `pnd_1_40_2_status`, `pnd_3_status`, `pnd_53_status` ‚úÖ
  - `pnd_1_40_1_attachment_count`, `pnd_1_40_2_attachment_count`, `pnd_3_attachment_count`, `pnd_53_attachment_count` ‚úÖ
  - ‡πÅ‡∏•‡∏∞ fields ‡∏≠‡∏∑‡πà‡∏ô‡πÜ ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î

#### 2. **Frontend Service - ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å API**
- **Service**: `monthlyTaxDataService.getByBuildYearMonth(buildId, year, month)`
- **File**: `src/services/monthlyTaxDataService.ts` (line 179-188)
- **API Call**: `GET /api/monthly-tax-data/:build/:year/:month` ‚úÖ

#### 3. **Frontend Component - Initialize Form Values**
- **Component**: `TaxInspectionForm.tsx`
- **useEffect**: Initialize form values ‡∏à‡∏≤‡∏Å `taxData` (line 282-371) ‚úÖ
- **Fields ‡∏ó‡∏µ‡πà Initialize**:
  - `pnd_status`: `data.pnd_status || ''` (line 296)
  - `pnd1_40_1`: `data.pnd_1_40_1_status || ''` (line 344)
  - `pnd1_40_2`: `data.pnd_1_40_2_status || ''` (line 345)
  - `pnd3`: `data.pnd_3_status || ''` (line 346)
  - `pnd53`: `data.pnd_53_status || ''` (line 347)
  - `pnd1_40_1` (attachment count): `data.pnd_1_40_1_attachment_count` (line 359)
  - `pnd1_40_2` (attachment count): `data.pnd_1_40_2_attachment_count` (line 360)
  - `pnd3` (attachment count): `data.pnd_3_attachment_count` (line 361)
  - `pnd53` (attachment count): `data.pnd_53_attachment_count` (line 362)

---

## ‚ö†Ô∏è **‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏ö: ‡∏ó‡∏≥‡πÑ‡∏°‡∏ö‡∏≤‡∏á‡∏™‡πà‡∏ß‡∏ô‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏°‡∏≤**

### **‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà 1: ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ ‡∏†‡∏á‡∏î. (pnd_status) ‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡πà‡∏≤‡∏ß‡πà‡∏≤‡∏á**

#### **‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:**
- ‡πÉ‡∏ô‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• `pnd_status` ‡πÄ‡∏õ‡πá‡∏ô **NULL** ‡∏´‡∏£‡∏∑‡∏≠ **empty string**
- Frontend initialize ‡πÄ‡∏õ‡πá‡∏ô `data.pnd_status || ''` ‡∏ã‡∏∂‡πà‡∏á‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô NULL ‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô empty string
- Select component ‡πÅ‡∏™‡∏î‡∏á placeholder "‚Äî ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ ‚Äî" ‡πÄ‡∏°‡∏∑‡πà‡∏≠ value ‡πÄ‡∏õ‡πá‡∏ô null ‡∏´‡∏£‡∏∑‡∏≠ empty string

#### **‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:**
- ‚úÖ **‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç** - ‡∏ô‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏û‡∏§‡∏ï‡∏¥‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
- ‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡πà‡∏≤ default ‡πÉ‡∏´‡πâ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÉ‡∏ô‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏° logic ‡πÉ‡∏ô frontend

---

### **‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà 2: ‡πÅ‡∏ö‡∏ö ‡∏†‡∏á‡∏î.1 40(1) ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ ‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡πà‡∏≤‡∏ß‡πà‡∏≤‡∏á**

#### **‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:**
- ‡πÉ‡∏ô‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• `pnd_1_40_1_status` ‡πÄ‡∏õ‡πá‡∏ô **NULL** ‡∏´‡∏£‡∏∑‡∏≠ **empty string**
- Frontend initialize ‡πÄ‡∏õ‡πá‡∏ô `data.pnd_1_40_1_status || ''` ‡∏ã‡∏∂‡πà‡∏á‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô NULL ‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô empty string
- Select component ‡πÅ‡∏™‡∏î‡∏á placeholder "‚Äî ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å ‚Äî" ‡πÄ‡∏°‡∏∑‡πà‡∏≠ value ‡πÄ‡∏õ‡πá‡∏ô null ‡∏´‡∏£‡∏∑‡∏≠ empty string

#### **‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:**
- ‚úÖ **‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç** - ‡∏ô‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏û‡∏§‡∏ï‡∏¥‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
- ‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡πà‡∏≤ default ‡πÉ‡∏´‡πâ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÉ‡∏ô‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏° logic ‡πÉ‡∏ô frontend

---

### **‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà 3: ‡πÅ‡∏ö‡∏ö ‡∏†‡∏á‡∏î.1 40(2), ‡∏†‡∏á‡∏î.3, ‡∏†‡∏á‡∏î.53 ‡πÅ‡∏™‡∏î‡∏á "‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏¢‡∏∑‡πà‡∏ô" ‡πÅ‡∏ï‡πà‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÉ‡∏ö‡πÅ‡∏ô‡∏ö‡∏ß‡πà‡∏≤‡∏á**

#### **‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:**
- ‡πÉ‡∏ô‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• `pnd_1_40_2_status`, `pnd_3_status`, `pnd_53_status` ‡πÄ‡∏õ‡πá‡∏ô **'not_submitted'** (‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏¢‡∏∑‡πà‡∏ô)
- Frontend initialize ‡πÄ‡∏õ‡πá‡∏ô `data.pnd_1_40_2_status || ''` ‡∏ã‡∏∂‡πà‡∏á‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô 'not_submitted' ‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á "‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏¢‡∏∑‡πà‡∏ô" ‚úÖ
- ‡πÅ‡∏ï‡πà `pnd_1_40_2_attachment_count`, `pnd_3_attachment_count`, `pnd_53_attachment_count` ‡πÄ‡∏õ‡πá‡∏ô **NULL**, **undefined**, ‡∏´‡∏£‡∏∑‡∏≠ **0**
- Frontend initialize ‡πÄ‡∏õ‡πá‡∏ô empty string ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô NULL, undefined, ‡∏´‡∏£‡∏∑‡∏≠ 0 (line 360-362)
- TextInput ‡πÅ‡∏™‡∏î‡∏á placeholder "‡∏Å‡∏£‡∏≠‡∏Å‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÉ‡∏ö‡πÅ‡∏ô‡∏ö" ‡πÄ‡∏°‡∏∑‡πà‡∏≠ value ‡πÄ‡∏õ‡πá‡∏ô empty string

#### **‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:**
- ‚úÖ **‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç** - ‡∏ô‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏û‡∏§‡∏ï‡∏¥‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
- ‡∏ñ‡πâ‡∏≤‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÄ‡∏õ‡πá‡∏ô "‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏¢‡∏∑‡πà‡∏ô" (`not_submitted`) ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÉ‡∏ö‡πÅ‡∏ô‡∏ö‡∏Ñ‡∏ß‡∏£‡πÄ‡∏õ‡πá‡∏ô‡∏ß‡πà‡∏≤‡∏á (0 ‡∏´‡∏£‡∏∑‡∏≠ NULL)
- ‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡πÅ‡∏™‡∏î‡∏á "0" ‡πÅ‡∏ó‡∏ô‡∏Ñ‡πà‡∏≤‡∏ß‡πà‡∏≤‡∏á ‡πÉ‡∏´‡πâ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç logic ‡πÉ‡∏ô frontend

---

### **‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà 4: ‡πÅ‡∏ö‡∏ö ‡∏†‡∏á‡∏î.1 40(1) ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÉ‡∏ö‡πÅ‡∏ô‡∏ö‡πÅ‡∏™‡∏î‡∏á "1" ‡πÅ‡∏ï‡πà‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ß‡πà‡∏≤‡∏á**

#### **‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:**
- ‡πÉ‡∏ô‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• `pnd_1_40_1_attachment_count` ‡πÄ‡∏õ‡πá‡∏ô **1** ‚úÖ
- Frontend initialize ‡πÄ‡∏õ‡πá‡∏ô `data.pnd_1_40_1_attachment_count.toString()` (line 359) ‚úÖ
- ‡πÅ‡∏ï‡πà `pnd_1_40_1_status` ‡πÄ‡∏õ‡πá‡∏ô **NULL** ‡∏´‡∏£‡∏∑‡∏≠ **empty string**
- Frontend initialize ‡πÄ‡∏õ‡πá‡∏ô `data.pnd_1_40_1_status || ''` ‡∏ã‡∏∂‡πà‡∏á‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô NULL ‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô empty string
- Select component ‡πÅ‡∏™‡∏î‡∏á placeholder "‚Äî ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å ‚Äî" ‡πÄ‡∏°‡∏∑‡πà‡∏≠ value ‡πÄ‡∏õ‡πá‡∏ô null ‡∏´‡∏£‡∏∑‡∏≠ empty string

#### **‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:**
- ‚ö†Ô∏è **‡∏Ñ‡∏ß‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç** - ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÉ‡∏ö‡πÅ‡∏ô‡∏ö‡πÅ‡∏•‡πâ‡∏ß ‡∏Ñ‡∏ß‡∏£‡∏°‡∏µ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏î‡πâ‡∏ß‡∏¢
- ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏û‡∏¥‡πà‡∏° validation ‡∏´‡∏£‡∏∑‡∏≠ auto-set status ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ attachment_count

---

## üîç **‡∏™‡∏£‡∏∏‡∏õ Flow ‡∏Å‡∏≤‡∏£‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•**

```
1. User ‡πÄ‡∏õ‡∏¥‡∏î‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏†‡∏≤‡∏©‡∏µ‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡πÄ‡∏î‡∏∑‡∏≠‡∏ô
   ‚Üì
2. Frontend: TaxInspectionForm.tsx
   - ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å monthlyTaxDataService.getByBuildYearMonth(buildId, year, month)
   ‚Üì
3. API Call: GET /api/monthly-tax-data/:build/:year/:month
   ‚Üì
4. Backend: backend/routes/monthly-tax-data.js
   - Query: SELECT * FROM monthly_tax_data WHERE build = ? AND tax_year = ? AND tax_month = ?
   ‚Üì
5. Database: monthly_tax_data table
   - ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏∏‡∏Å fields ‡∏£‡∏ß‡∏°‡∏ñ‡∏∂‡∏á:
     * pnd_status
     * pnd_1_40_1_status, pnd_1_40_2_status, pnd_3_status, pnd_53_status
     * pnd_1_40_1_attachment_count, pnd_1_40_2_attachment_count, pnd_3_attachment_count, pnd_53_attachment_count
   ‚Üì
6. Backend: ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏¢‡∏±‡∏á Frontend
   ‚Üì
7. Frontend: useEffect ‡πÉ‡∏ô TaxInspectionForm.tsx
   - Initialize formValues ‡∏à‡∏≤‡∏Å taxData
   - Initialize numberValues ‡∏à‡∏≤‡∏Å taxData
   ‚Üì
8. UI: ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô‡∏ü‡∏≠‡∏£‡πå‡∏°
   - ‡∏ñ‡πâ‡∏≤ value ‡πÄ‡∏õ‡πá‡∏ô null ‡∏´‡∏£‡∏∑‡∏≠ empty string ‚Üí ‡πÅ‡∏™‡∏î‡∏á placeholder
   - ‡∏ñ‡πâ‡∏≤ value ‡∏°‡∏µ‡∏Ñ‡πà‡∏≤ ‚Üí ‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡πà‡∏≤‡∏à‡∏£‡∏¥‡∏á
```

---

## üìä **‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏™‡∏£‡∏∏‡∏õ‡∏Å‡∏≤‡∏£‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•**

| Field | Backend Query | Frontend Initialize | UI Display | ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ |
|-------|--------------|---------------------|------------|-------|
| `pnd_status` | ‚úÖ SELECT | ‚úÖ `data.pnd_status \|\| ''` | Placeholder ‡∏ñ‡πâ‡∏≤ NULL | ‚úÖ ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á |
| `pnd_1_40_1_status` | ‚úÖ SELECT | ‚úÖ `data.pnd_1_40_1_status \|\| ''` | Placeholder ‡∏ñ‡πâ‡∏≤ NULL | ‚úÖ ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á |
| `pnd_1_40_2_status` | ‚úÖ SELECT | ‚úÖ `data.pnd_1_40_2_status \|\| ''` | ‡πÅ‡∏™‡∏î‡∏á "‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏¢‡∏∑‡πà‡∏ô" ‡∏ñ‡πâ‡∏≤ 'not_submitted' | ‚úÖ ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á |
| `pnd_3_status` | ‚úÖ SELECT | ‚úÖ `data.pnd_3_status \|\| ''` | ‡πÅ‡∏™‡∏î‡∏á "‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏¢‡∏∑‡πà‡∏ô" ‡∏ñ‡πâ‡∏≤ 'not_submitted' | ‚úÖ ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á |
| `pnd_53_status` | ‚úÖ SELECT | ‚úÖ `data.pnd_53_status \|\| ''` | ‡πÅ‡∏™‡∏î‡∏á "‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏¢‡∏∑‡πà‡∏ô" ‡∏ñ‡πâ‡∏≤ 'not_submitted' | ‚úÖ ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á |
| `pnd_1_40_1_attachment_count` | ‚úÖ SELECT | ‚úÖ `data.pnd_1_40_1_attachment_count` | ‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡πà‡∏≤ ‡∏ñ‡πâ‡∏≤ > 0 | ‚úÖ ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á |
| `pnd_1_40_2_attachment_count` | ‚úÖ SELECT | ‚úÖ `data.pnd_1_40_2_attachment_count` | Placeholder ‡∏ñ‡πâ‡∏≤ NULL/0 | ‚úÖ ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á |
| `pnd_3_attachment_count` | ‚úÖ SELECT | ‚úÖ `data.pnd_3_attachment_count` | Placeholder ‡∏ñ‡πâ‡∏≤ NULL/0 | ‚úÖ ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á |
| `pnd_53_attachment_count` | ‚úÖ SELECT | ‚úÖ `data.pnd_53_attachment_count` | Placeholder ‡∏ñ‡πâ‡∏≤ NULL/0 | ‚úÖ ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á |

---

## üí° **‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥**

### **1. ‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡πà‡∏≤ Default ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•:**
- ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÉ‡∏ô‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•: SET default value ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö status fields
- ‡∏´‡∏£‡∏∑‡∏≠‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÉ‡∏ô frontend: ‡πÄ‡∏û‡∏¥‡πà‡∏° logic ‡πÄ‡∏û‡∏∑‡πà‡∏≠ set default value ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡πá‡∏ô NULL

### **2. ‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡πÅ‡∏™‡∏î‡∏á "0" ‡πÅ‡∏ó‡∏ô‡∏Ñ‡πà‡∏≤‡∏ß‡πà‡∏≤‡∏á‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÉ‡∏ö‡πÅ‡∏ô‡∏ö:**
- ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç logic ‡πÉ‡∏ô frontend: ‡πÅ‡∏™‡∏î‡∏á "0" ‡πÅ‡∏ó‡∏ô empty string ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô 0

### **3. ‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ Auto-set Status ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ Attachment Count:**
- ‡πÄ‡∏û‡∏¥‡πà‡∏° validation logic ‡πÉ‡∏ô frontend ‡∏´‡∏£‡∏∑‡∏≠ backend
- ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ `attachment_count > 0` ‡πÅ‡∏ï‡πà `status` ‡πÄ‡∏õ‡πá‡∏ô NULL ‚Üí auto-set status ‡πÄ‡∏õ‡πá‡∏ô default value

---

## üîÑ **‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ó‡∏µ‡πà‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ (‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£)**

### **Option 1: ‡πÅ‡∏™‡∏î‡∏á Default Status ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ Attachment Count**

```typescript
// ‡πÉ‡∏ô useEffect ‡∏Ç‡∏≠‡∏á TaxInspectionForm.tsx
// ‡πÄ‡∏û‡∏¥‡πà‡∏° logic ‡πÄ‡∏û‡∏∑‡πà‡∏≠ auto-set status ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ attachment_count ‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡∏°‡∏µ status
if (data.pnd_1_40_1_attachment_count > 0 && !data.pnd_1_40_1_status) {
  // Auto-set default status ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ attachment_count ‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡∏°‡∏µ status
  setFormValues((prev) => ({
    ...prev,
    pnd1_40_1: 'draft_ready', // ‡∏´‡∏£‡∏∑‡∏≠ default status ‡∏≠‡∏∑‡πà‡∏ô‡πÜ
  }))
}
```

### **Option 2: ‡πÅ‡∏™‡∏î‡∏á "0" ‡πÅ‡∏ó‡∏ô‡∏Ñ‡πà‡∏≤‡∏ß‡πà‡∏≤‡∏á‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÉ‡∏ö‡πÅ‡∏ô‡∏ö**

```typescript
// ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç logic ‡πÉ‡∏ô useEffect
pnd1_40_1: data.pnd_1_40_1_attachment_count !== null && data.pnd_1_40_1_attachment_count !== undefined 
  ? data.pnd_1_40_1_attachment_count.toString() 
  : '0', // ‡πÅ‡∏™‡∏î‡∏á "0" ‡πÅ‡∏ó‡∏ô empty string
```

---

## üìù **‡∏™‡∏£‡∏∏‡∏õ**

### ‚úÖ **‡∏£‡∏∞‡∏ö‡∏ö‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏î‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î**
- Backend query ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô
- Frontend initialize ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô
- UI ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏Ñ‡∏ß‡∏£‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô

### ‚ö†Ô∏è **‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏ö‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà Bug ‡πÅ‡∏ï‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏û‡∏§‡∏ï‡∏¥‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á**
- ‡∏ñ‡πâ‡∏≤‡πÉ‡∏ô‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏õ‡πá‡∏ô NULL ‚Üí ‡πÅ‡∏™‡∏î‡∏á placeholder (‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á)
- ‡∏ñ‡πâ‡∏≤‡πÉ‡∏ô‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏õ‡πá‡∏ô 'not_submitted' ‚Üí ‡πÅ‡∏™‡∏î‡∏á "‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏¢‡∏∑‡πà‡∏ô" (‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á)
- ‡∏ñ‡πâ‡∏≤‡πÉ‡∏ô‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏õ‡πá‡∏ô 0 ‡∏´‡∏£‡∏∑‡∏≠ NULL ‚Üí ‡πÅ‡∏™‡∏î‡∏á placeholder (‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á)

### üí° **‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏û‡∏§‡∏ï‡∏¥‡∏Å‡∏£‡∏£‡∏°**
- ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÉ‡∏ô‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•: SET default values
- ‡∏´‡∏£‡∏∑‡∏≠‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÉ‡∏ô frontend: ‡πÄ‡∏û‡∏¥‡πà‡∏° logic ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡πà‡∏≤ default

---

**Last Updated**: 2026-02-02  
**Status**: ‚úÖ Complete - ‡∏£‡∏∞‡∏ö‡∏ö‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏î‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
