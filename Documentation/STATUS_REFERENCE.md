# üìã ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö - Status Reference Guide

**Last Updated**: 2026-02-03

‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏ô‡∏µ‡πâ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÉ‡∏ô frontend ‡πÅ‡∏•‡∏∞‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏î‡∏∂‡∏á‡∏°‡∏≤‡∏à‡∏≤‡∏Å‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•

---

## üìä ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (All Status Options)

### ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (13 ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞)

| ‡∏Ñ‡πà‡∏≤ (Value) | ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏• (Label) | ‡∏™‡∏µ (Color) | ‡πÉ‡∏ä‡πâ‡πÉ‡∏ô PND | ‡πÉ‡∏ä‡πâ‡πÉ‡∏ô PP30 |
|------------|---------------------|----------|----------|----------|
| `received_receipt` | ‡∏£‡∏±‡∏ö‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à | `#4facfe` (‡∏ü‡πâ‡∏≤) | ‚úÖ | ‚úÖ |
| `paid` | ‡∏ä‡∏≥‡∏£‡∏∞‡πÅ‡∏•‡πâ‡∏ß | `#ffc107` (‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á) | ‚úÖ | ‚úÖ |
| `sent_to_customer` | ‡∏™‡πà‡∏á‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÅ‡∏•‡πâ‡∏ß | `#81d4fa` (‡∏ü‡πâ‡∏≤‡∏≠‡πà‡∏≠‡∏ô) | ‚úÖ | ‚úÖ |
| `draft_completed` | ‡∏£‡πà‡∏≤‡∏á‡πÅ‡∏ö‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß | `#ffcdd2` (‡∏ä‡∏°‡∏û‡∏π‡∏≠‡πà‡∏≠‡∏ô) | ‚úÖ | ‚úÖ |
| `passed` | ‡∏ú‡πà‡∏≤‡∏ô | `#4caf50` (‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß) | ‚úÖ | ‚úÖ |
| `pending_review` | ‡∏£‡∏≠‡∏ï‡∏£‡∏ß‡∏à | `#ff6b35` (‡∏™‡πâ‡∏°) | ‚úÖ | ‚úÖ |
| `pending_recheck` | ‡∏£‡∏≠‡∏ï‡∏£‡∏ß‡∏à‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á | `#f44336` (‡πÅ‡∏î‡∏á) | ‚úÖ | ‚úÖ |
| `draft_ready` | ‡∏£‡πà‡∏≤‡∏á‡πÅ‡∏ö‡∏ö‡πÑ‡∏î‡πâ | `#ffcdd2` (‡∏ä‡∏°‡∏û‡∏π‡∏≠‡πà‡∏≠‡∏ô) | ‚úÖ | ‚úÖ |
| `needs_correction` | ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç | `#f44336` (‡πÅ‡∏î‡∏á) | ‚úÖ | ‚úÖ |
| `inquire_customer` | ‡∏™‡∏≠‡∏ö‡∏ñ‡∏≤‡∏°‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° | `#9c27b0` (‡∏°‡πà‡∏ß‡∏á) | ‚úÖ | ‚úÖ |
| `additional_review` | ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° | `#81d4fa` (‡∏ü‡πâ‡∏≤‡∏≠‡πà‡∏≠‡∏ô) | ‚úÖ | ‚úÖ |
| `not_started` | ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£ | `#808080` (‡πÄ‡∏ó‡∏≤) | ‚úÖ | ‚úÖ |
| `not_submitted` | ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏¢‡∏∑‡πà‡∏ô | `#808080` (‡πÄ‡∏ó‡∏≤) | ‚ùå | ‚úÖ |

**‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏**: ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÄ‡∏Å‡πà‡∏≤ (`receipt`, `inquiry`, `review`, `edit`) ‡∏à‡∏∞‡πÑ‡∏°‡πà‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏ô dropdown ‡πÅ‡∏ï‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•

---

## üè¢ 1. ‡∏´‡∏ô‡πâ‡∏≤‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏¢‡∏∑‡πà‡∏ô‡∏†‡∏≤‡∏©‡∏µ (Tax Status Page)

### 1.1 ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ ‡∏†.‡∏á.‡∏î. (PND Status)

**‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡πÉ‡∏ô Frontend**:
- `pndStatus`: `TaxStatusRecord['pndStatus']` - ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ ‡∏†.‡∏á.‡∏î.
- `pndSentForReviewDate`: `string | null` - ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏ï‡∏£‡∏ß‡∏à
- `pndReviewReturnedDate`: `string | null` - ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏Ñ‡∏∑‡∏ô
- `pndSentToCustomerDate`: `string | null` - ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤

**‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•**:
- `pnd_status` (VARCHAR(100)) - ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ ‡∏†.‡∏á.‡∏î.
- `pnd_sent_for_review_date` (DATETIME) - ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏ï‡∏£‡∏ß‡∏à
- `pnd_review_returned_date` (DATETIME) - ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏Ñ‡∏∑‡∏ô
- `pnd_sent_to_customer_date` (DATETIME) - ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤
- `wht_draft_completed_date` (DATETIME) - ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏£‡πà‡∏≤‡∏á‡πÅ‡∏ö‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß
- `wht_filing_response` (TEXT) - ‡∏Å‡∏≤‡∏£‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏¢‡∏∑‡πà‡∏ô‡πÅ‡∏ö‡∏ö

**‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•**:
- ‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏õ‡πá‡∏ô Badge ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏™‡∏µ‡∏ï‡∏≤‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞
- ‡πÅ‡∏™‡∏î‡∏á‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏ô‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö: `DD/MM/YYYY HH:mm`
- ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ ‡πÅ‡∏™‡∏î‡∏á `-` (‡∏™‡∏µ‡πÄ‡∏ó‡∏≤)

**Location**: `src/components/TaxStatus/TaxStatusTable.tsx`
- `getPndStatusBadge()`: ‡πÅ‡∏™‡∏î‡∏á Badge ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞
- `getStatusColor()`: ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏™‡∏µ‡∏ï‡∏≤‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞
- `getStatusLabel()`: ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡∏≤‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞

### 1.2 ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ ‡∏†.‡∏û.30 (PP30 Status)

**‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡πÉ‡∏ô Frontend**:
- `pp30Status`: `TaxStatusRecord['pp30Status']` - ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ ‡∏†.‡∏û.30
- `pp30SentForReviewDate`: `string | null` - ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏ï‡∏£‡∏ß‡∏à
- `pp30ReviewReturnedDate`: `string | null` - ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏Ñ‡∏∑‡∏ô
- `pp30SentToCustomerDate`: `string | null` - ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤
- `pp30PaymentStatus`: `'has_payment' | 'no_payment' | null` - ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏¢‡∏≠‡∏î‡∏ä‡∏≥‡∏£‡∏∞
- `pp30PaymentAmount`: `number | null` - ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏¢‡∏≠‡∏î‡∏ä‡∏≥‡∏£‡∏∞

**‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•**:
- `pp30_form` (VARCHAR(100)) - ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ ‡∏†.‡∏û.30 (‡∏´‡∏•‡∏±‡∏á migration 028)
- `pp30_status` (‡πÑ‡∏°‡πà‡∏°‡∏µ field ‡πÉ‡∏ô‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ‡πÅ‡∏ï‡πà‡πÉ‡∏ä‡πâ‡∏™‡πà‡∏á‡πÑ‡∏õ‡∏¢‡∏±‡∏á backend)
- `pp30_sent_for_review_date` (DATETIME) - ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏ï‡∏£‡∏ß‡∏à
- `pp30_review_returned_date` (DATETIME) - ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏Ñ‡∏∑‡∏ô
- `pp30_sent_to_customer_date` (DATETIME) - ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤
- `pp30_payment_status` (VARCHAR(100)) - ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏¢‡∏≠‡∏î‡∏ä‡∏≥‡∏£‡∏∞: `'has_payment'` | `'no_payment'`
- `pp30_payment_amount` (DECIMAL(15,2)) - ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏¢‡∏≠‡∏î‡∏ä‡∏≥‡∏£‡∏∞
- `pp30_filing_response` (TEXT) - ‡∏Å‡∏≤‡∏£‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏¢‡∏∑‡πà‡∏ô‡πÅ‡∏ö‡∏ö
- `vat_draft_completed_date` (DATETIME) - ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏£‡πà‡∏≤‡∏á‡πÅ‡∏ö‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß

**‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•**:
- ‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏õ‡πá‡∏ô Badge ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏™‡∏µ‡∏ï‡∏≤‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞
- ‡πÅ‡∏™‡∏î‡∏á‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏ô‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö: `DD/MM/YYYY HH:mm`
- ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏¢‡∏≠‡∏î‡∏ä‡∏≥‡∏£‡∏∞: `has_payment` = "‡∏°‡∏µ‡∏¢‡∏≠‡∏î‡∏ä‡∏≥‡∏£‡∏∞" (‡∏™‡∏µ‡πÅ‡∏î‡∏á), `no_payment` = "‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏¢‡∏≠‡∏î‡∏ä‡∏≥‡∏£‡∏∞" (‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß)
- ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ ‡πÅ‡∏™‡∏î‡∏á `-` (‡∏™‡∏µ‡πÄ‡∏ó‡∏≤)

**Location**: `src/components/TaxStatus/TaxStatusTable.tsx`
- `getPp30StatusBadge()`: ‡πÅ‡∏™‡∏î‡∏á Badge ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞
- `derivePp30Status()`: Derive ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏à‡∏≤‡∏Å timestamp fields (‡∏à‡∏≤‡∏Å `src/utils/pp30StatusUtils.ts`)

---

## üìù 2. ‡∏´‡∏ô‡πâ‡∏≤‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏†‡∏≤‡∏©‡∏µ‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡πÄ‡∏î‡∏∑‡∏≠‡∏ô (Tax Inspection Form)

### 2.1 ‡πÅ‡∏ñ‡∏ö WHT - ‡∏¢‡∏∑‡πà‡∏ô‡πÅ‡∏ö‡∏ö‡∏†‡∏≤‡∏©‡∏µ‡∏´‡∏±‡∏Å ‡∏ì ‡∏ó‡∏µ‡πà‡∏à‡πà‡∏≤‡∏¢

#### ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ ‡∏†.‡∏á.‡∏î. (PND Status)

**‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡πÉ‡∏ô Frontend**:
- `formValues.pnd_status`: `string` - ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ ‡∏†.‡∏á.‡∏î.
- `formValues.pnd_sent_date`: `string` - ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏ï‡∏£‡∏ß‡∏à
- `formValues.pnd_return_date`: `string` - ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏Ñ‡∏∑‡∏ô
- `formValues.pnd_customer_sent_date`: `string` - ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤
- `whtInquiry`: `string` - ‡∏™‡∏≠‡∏ö‡∏ñ‡∏≤‡∏°‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°
- `whtReply`: `string` - ‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö
- `taxFilingComment`: `string` - ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô‡∏Å‡∏≤‡∏£‡∏¢‡∏∑‡πà‡∏ô‡πÅ‡∏ö‡∏ö
- `taxFilingReply`: `string` - ‡∏Å‡∏≤‡∏£‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏¢‡∏∑‡πà‡∏ô‡πÅ‡∏ö‡∏ö

**‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•**:
- `pnd_status` (VARCHAR(100)) - ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ ‡∏†.‡∏á.‡∏î.
- `pnd_sent_for_review_date` (DATETIME) - ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏ï‡∏£‡∏ß‡∏à
- `pnd_review_returned_date` (DATETIME) - ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏Ñ‡∏∑‡∏ô
- `pnd_sent_to_customer_date` (DATETIME) - ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤
- `wht_draft_completed_date` (DATETIME) - ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏£‡πà‡∏≤‡∏á‡πÅ‡∏ö‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß
- `wht_inquiry` (TEXT) - ‡∏™‡∏≠‡∏ö‡∏ñ‡∏≤‡∏°‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°
- `wht_response` (TEXT) - ‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö
- `wht_submission_comment` (TEXT) - ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô‡∏Å‡∏≤‡∏£‡∏¢‡∏∑‡πà‡∏ô‡πÅ‡∏ö‡∏ö
- `wht_filing_response` (TEXT) - ‡∏Å‡∏≤‡∏£‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏¢‡∏∑‡πà‡∏ô‡πÅ‡∏ö‡∏ö

**‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡∏ï‡∏≤‡∏°‡∏´‡∏ô‡πâ‡∏≤**:
- **‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡∏£‡∏ß‡∏à‡∏†‡∏≤‡∏©‡∏µ (taxInspection)**: `received_receipt`, `paid`, `passed`, `needs_correction`, `inquire_customer`, `additional_review`, `not_started`
- **‡∏´‡∏ô‡πâ‡∏≤‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏¢‡∏∑‡πà‡∏ô‡∏†‡∏≤‡∏©‡∏µ (taxStatus)**: `received_receipt`, `paid`, `sent_to_customer`, `draft_completed`, `passed`, `pending_review`, `pending_recheck`, `draft_ready`, `not_started`
- **‡∏´‡∏ô‡πâ‡∏≤‡∏¢‡∏∑‡πà‡∏ô‡∏†‡∏≤‡∏©‡∏µ (taxFiling)**: `received_receipt`, `paid`, `sent_to_customer`, `draft_completed`, `passed`, `pending_review`, `pending_recheck`, `draft_ready`, `not_started`

**Location**: `src/components/TaxInspection/TaxInspectionForm.tsx`
- `allowedStatusesByPage`: ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡∏ï‡∏≤‡∏°‡∏´‡∏ô‡πâ‡∏≤
- `getWhtStatusColor()`: ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏™‡∏µ‡∏ï‡∏≤‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞
- `getSelectBorderColor()`: ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏™‡∏µ border ‡∏ï‡∏≤‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞

#### ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÅ‡∏ö‡∏ö‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏†‡∏≤‡∏©‡∏µ (Tax Form Statuses)

**‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡πÉ‡∏ô Frontend**:
- `formValues.pnd1_40_1`: `string` - ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ ‡∏†.‡∏á.‡∏î. 1/40.1
- `formValues.pnd1_40_2`: `string` - ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ ‡∏†.‡∏á.‡∏î. 1/40.2
- `formValues.pnd3`: `string` - ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ ‡∏†.‡∏á.‡∏î. 3
- `formValues.pnd53`: `string` - ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ ‡∏†.‡∏á.‡∏î. 53
- `formValues.pp36`: `string` - ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ ‡∏†.‡∏û. 36
- `formValues.student_loan`: `string` - ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÅ‡∏ö‡∏ö‡∏¢‡∏∑‡πà‡∏ô‡∏Å‡∏π‡πâ‡∏¢‡∏∑‡∏°
- `formValues.pnd2`: `string` - ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ ‡∏†.‡∏á.‡∏î. 2
- `formValues.pnd54`: `string` - ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ ‡∏†.‡∏á.‡∏î. 54
- `formValues.pth40`: `string` - ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ ‡∏†.‡∏ó. 40
- `formValues.social_security`: `string` - ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÅ‡∏ö‡∏ö‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏™‡∏±‡∏á‡∏Ñ‡∏°

**‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•**:
- `pnd_1_40_1_status` (VARCHAR(100))
- `pnd_1_40_2_status` (VARCHAR(100))
- `pnd_3_status` (VARCHAR(100))
- `pnd_53_status` (VARCHAR(100))
- `pp_36_status` (VARCHAR(100))
- `student_loan_form_status` (VARCHAR(100))
- `pnd_2_status` (VARCHAR(100))
- `pnd_54_status` (VARCHAR(100))
- `pt_40_status` (VARCHAR(100))
- `social_security_form_status` (VARCHAR(100))

**‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡πÅ‡∏ô‡∏ö (Attachment Counts)**:
- `numberValues.pnd1_40_1`: `string` - ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡πÅ‡∏ô‡∏ö ‡∏†.‡∏á.‡∏î. 1/40.1
- `numberValues.pnd1_40_2`: `string` - ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡πÅ‡∏ô‡∏ö ‡∏†.‡∏á.‡∏î. 1/40.2
- ... (‡πÄ‡∏ä‡πà‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏ö‡∏ö‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏≠‡∏∑‡πà‡∏ô‡πÜ)

**‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•**:
- `pnd_1_40_1_attachment_count` (INT)
- `pnd_1_40_2_attachment_count` (INT)
- `pnd_3_attachment_count` (INT)
- `pnd_53_attachment_count` (INT)
- `pp_36_attachment_count` (INT)
- `student_loan_form_attachment_count` (INT)
- `pnd_2_attachment_count` (INT)
- `pnd_54_attachment_count` (INT)
- `pt_40_attachment_count` (INT)
- `social_security_form_attachment_count` (INT)

### 2.2 ‡πÅ‡∏ñ‡∏ö VAT - ‡∏†‡∏≤‡∏©‡∏µ‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤‡πÄ‡∏û‡∏¥‡πà‡∏°

#### ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ ‡∏†.‡∏û.30 (PP30 Status)

**‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡πÉ‡∏ô Frontend**:
- `formValues.pp30_status`: `string` - ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ ‡∏†.‡∏û.30
- `formValues.pp30_sent_date`: `string` - ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏ï‡∏£‡∏ß‡∏à
- `formValues.pp30_return_date`: `string` - ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏Ñ‡∏∑‡∏ô
- `formValues.pp30_customer_sent_date`: `string` - ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤
- `vatInquiry`: `string` - ‡∏™‡∏≠‡∏ö‡∏ñ‡∏≤‡∏°‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°
- `vatReply`: `string` - ‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö
- `vatFilingComment`: `string` - ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô‡∏Å‡∏≤‡∏£‡∏¢‡∏∑‡πà‡∏ô‡πÅ‡∏ö‡∏ö
- `vatFilingReply`: `string` - ‡∏Å‡∏≤‡∏£‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏¢‡∏∑‡πà‡∏ô‡πÅ‡∏ö‡∏ö
- `purchaseDocuments`: `string` - ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏†‡∏≤‡∏©‡∏µ‡∏ã‡∏∑‡πâ‡∏≠
- `confirmIncome`: `string` - ‡∏Ñ‡∏≠‡∏ô‡πÄ‡∏ü‡∏¥‡∏£‡πå‡∏°‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ (label)
- `confirmIncomeStatus`: `string | null` - ‡∏Ñ‡∏≠‡∏ô‡πÄ‡∏ü‡∏¥‡∏£‡πå‡∏°‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ (value)
- `pp30PaymentStatus`: `string | null` - ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏¢‡∏≠‡∏î‡∏ä‡∏≥‡∏£‡∏∞
- `pp30PaymentAmount`: `string` - ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏¢‡∏≠‡∏î‡∏ä‡∏≥‡∏£‡∏∞

**‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•**:
- `pp30_form` (VARCHAR(100)) - ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ ‡∏†.‡∏û.30 (‡∏´‡∏•‡∏±‡∏á migration 028)
- `pp30_status` (‡πÑ‡∏°‡πà‡∏°‡∏µ field ‡πÉ‡∏ô‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ‡πÅ‡∏ï‡πà‡πÉ‡∏ä‡πâ‡∏™‡πà‡∏á‡πÑ‡∏õ‡∏¢‡∏±‡∏á backend)
- `pp30_sent_for_review_date` (DATETIME) - ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏ï‡∏£‡∏ß‡∏à
- `pp30_review_returned_date` (DATETIME) - ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏Ñ‡∏∑‡∏ô
- `pp30_sent_to_customer_date` (DATETIME) - ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤
- `pp30_inquiry` (TEXT) - ‡∏™‡∏≠‡∏ö‡∏ñ‡∏≤‡∏°‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°
- `pp30_response` (TEXT) - ‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö
- `pp30_submission_comment` (TEXT) - ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô‡∏Å‡∏≤‡∏£‡∏¢‡∏∑‡πà‡∏ô‡πÅ‡∏ö‡∏ö
- `pp30_filing_response` (TEXT) - ‡∏Å‡∏≤‡∏£‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏¢‡∏∑‡πà‡∏ô‡πÅ‡∏ö‡∏ö
- `purchase_document_count` (INT) - ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏†‡∏≤‡∏©‡∏µ‡∏ã‡∏∑‡πâ‡∏≠
- `income_confirmed` (VARCHAR(100)) - ‡∏Ñ‡∏≠‡∏ô‡πÄ‡∏ü‡∏¥‡∏£‡πå‡∏°‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ: `'customer_confirmed'` | `'no_confirmation_needed'` | `'waiting_customer'` | `'customer_request_change'`
- `pp30_payment_status` (VARCHAR(100)) - ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏¢‡∏≠‡∏î‡∏ä‡∏≥‡∏£‡∏∞: `'has_payment'` | `'no_payment'`
- `pp30_payment_amount` (DECIMAL(15,2)) - ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏¢‡∏≠‡∏î‡∏ä‡∏≥‡∏£‡∏∞
- `vat_draft_completed_date` (DATETIME) - ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏£‡πà‡∏≤‡∏á‡πÅ‡∏ö‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß

**‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡∏ï‡∏≤‡∏°‡∏´‡∏ô‡πâ‡∏≤**:
- **‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡∏£‡∏ß‡∏à‡∏†‡∏≤‡∏©‡∏µ (taxInspection)**: `received_receipt`, `paid`, `passed`, `needs_correction`, `inquire_customer`, `additional_review`, `not_started`
- **‡∏´‡∏ô‡πâ‡∏≤‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏¢‡∏∑‡πà‡∏ô‡∏†‡∏≤‡∏©‡∏µ (taxStatus)**: `received_receipt`, `paid`, `sent_to_customer`, `draft_completed`, `passed`, `pending_review`, `pending_recheck`, `draft_ready`, `not_started`, `not_submitted`
- **‡∏´‡∏ô‡πâ‡∏≤‡∏¢‡∏∑‡πà‡∏ô‡∏†‡∏≤‡∏©‡∏µ (taxFiling)**: `received_receipt`, `paid`, `sent_to_customer`, `draft_completed`, `passed`, `pending_review`, `pending_recheck`, `draft_ready`, `not_started`, `not_submitted`

**Location**: `src/components/TaxInspection/TaxInspectionForm.tsx`
- `derivePp30Status()`: Derive ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏à‡∏≤‡∏Å timestamp fields (‡∏à‡∏≤‡∏Å `src/utils/pp30StatusUtils.ts`)
- `confirmIncomeOptions`: ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ñ‡∏≠‡∏ô‡πÄ‡∏ü‡∏¥‡∏£‡πå‡∏°‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ
- `getConfirmIncomeColor()`: ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏™‡∏µ‡∏ï‡∏≤‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Ñ‡∏≠‡∏ô‡πÄ‡∏ü‡∏¥‡∏£‡πå‡∏°‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ

#### ‡∏Ñ‡∏≠‡∏ô‡πÄ‡∏ü‡∏¥‡∏£‡πå‡∏°‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ (Income Confirmed)

**‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡πÉ‡∏ô Frontend**:
- `confirmIncomeStatus`: `'customer_confirmed' | 'no_confirmation_needed' | 'waiting_customer' | 'customer_request_change' | null`
- `confirmIncome`: `string` - Label ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•

**‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•**:
- `income_confirmed` (VARCHAR(100)) - ‡∏Ñ‡∏≠‡∏ô‡πÄ‡∏ü‡∏¥‡∏£‡πå‡∏°‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ

**‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å**:
| ‡∏Ñ‡πà‡∏≤ (Value) | ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏• (Label) | ‡∏™‡∏µ (Color) |
|------------|---------------------|----------|
| `customer_confirmed` | ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏Ñ‡∏≠‡∏ô‡πÄ‡∏ü‡∏¥‡∏£‡πå‡∏° | `#4caf50` (‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß) |
| `no_confirmation_needed` | ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Ñ‡∏≠‡∏ô‡πÄ‡∏ü‡∏¥‡∏£‡πå‡∏°‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ | `#ff6b35` (‡∏™‡πâ‡∏°) |
| `waiting_customer` | ‡∏£‡∏≠‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏Ñ‡∏≠‡∏ô‡πÄ‡∏ü‡∏¥‡∏£‡πå‡∏° | `#ffc107` (‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á) |
| `customer_request_change` | ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡πâ‡πÅ‡∏Å‡πâ‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ | `#f44336` (‡πÅ‡∏î‡∏á) |

#### ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏¢‡∏≠‡∏î‡∏ä‡∏≥‡∏£‡∏∞ ‡∏†.‡∏û.30 (PP30 Payment Status)

**‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡πÉ‡∏ô Frontend**:
- `pp30PaymentStatus`: `'has_payment' | 'no_payment' | null`
- `pp30PaymentAmount`: `string` - ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏¢‡∏≠‡∏î‡∏ä‡∏≥‡∏£‡∏∞

**‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•**:
- `pp30_payment_status` (VARCHAR(100)) - ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏¢‡∏≠‡∏î‡∏ä‡∏≥‡∏£‡∏∞
- `pp30_payment_amount` (DECIMAL(15,2)) - ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏¢‡∏≠‡∏î‡∏ä‡∏≥‡∏£‡∏∞

**‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å**:
| ‡∏Ñ‡πà‡∏≤ (Value) | ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏• (Label) | ‡∏™‡∏µ (Color) |
|------------|---------------------|----------|
| `has_payment` | ‡∏°‡∏µ‡∏¢‡∏≠‡∏î‡∏ä‡∏≥‡∏£‡∏∞ | ‡πÅ‡∏î‡∏á (Badge) |
| `no_payment` | ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏¢‡∏≠‡∏î‡∏ä‡∏≥‡∏£‡∏∞ | ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß (Badge) |

---

## üîç 3. ‡∏Å‡∏≤‡∏£ Derive ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ (Status Derivation)

### 3.1 PND Status Derivation

**Location**: `src/components/TaxInspection/TaxInspectionForm.tsx` (lines 560-586)

**‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö**:
1. ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ `pnd_status` ‡πÉ‡∏ô‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ‚Üí ‡πÉ‡∏ä‡πâ‡∏Ñ‡πà‡∏≤‡∏à‡∏≤‡∏Å‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
2. ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ ‚Üí Derive ‡∏à‡∏≤‡∏Å timestamp fields ‡∏ï‡∏≤‡∏°‡∏•‡∏≥‡∏î‡∏±‡∏ö:
   - `wht_filing_response` ‚Üí `'paid'`
   - `pnd_sent_to_customer_date` ‚Üí `'sent_to_customer'`
   - `pnd_review_returned_date` ‚Üí `'pending_recheck'`
   - `pnd_sent_for_review_date` ‚Üí `'pending_review'`
   - `wht_draft_completed_date` ‚Üí `'draft_completed'`
   - ‡πÑ‡∏°‡πà‡∏°‡∏µ ‚Üí `null`

**Backward Compatibility**:
- `'receipt'` ‚Üí `'received_receipt'`
- `'inquiry'` ‚Üí `'inquire_customer'`
- `'review'` ‚Üí `'additional_review'`
- `'edit'` ‚Üí `'needs_correction'`

### 3.2 PP30 Status Derivation

**Location**: `src/utils/pp30StatusUtils.ts`

**‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö**:
1. ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ `pp30_status` ‡∏´‡∏£‡∏∑‡∏≠ `pp30_form` ‡πÉ‡∏ô‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ‚Üí ‡πÉ‡∏ä‡πâ‡∏Ñ‡πà‡∏≤‡∏à‡∏≤‡∏Å‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
2. ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ ‚Üí Derive ‡∏à‡∏≤‡∏Å timestamp fields ‡∏ï‡∏≤‡∏°‡∏•‡∏≥‡∏î‡∏±‡∏ö:
   - `pp30_filing_response` ‚Üí `'paid'`
   - `vat_draft_completed_date` ‚Üí `'draft_completed'` ‚ö†Ô∏è ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç: ‡πÄ‡∏ä‡πá‡∏Ñ‡∏Å‡πà‡∏≠‡∏ô `pp30_review_returned_date`
   - `pp30_sent_to_customer_date` ‚Üí `'sent_to_customer'`
   - `pp30_review_returned_date` ‚Üí `'pending_recheck'`
   - `pp30_sent_for_review_date` ‚Üí `'pending_review'`
   - ‡πÑ‡∏°‡πà‡∏°‡∏µ ‚Üí `null`

---

## üìä 4. ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏™‡∏£‡∏∏‡∏õ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•

### Fields ‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞

| Field Name | Type | Description | ‡πÉ‡∏ä‡πâ‡πÉ‡∏ô |
|-----------|------|-------------|-------|
| `pnd_status` | VARCHAR(100) | ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ ‡∏†.‡∏á.‡∏î. | PND/WHT |
| `pp30_form` | VARCHAR(100) | ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ ‡∏†.‡∏û.30 | PP30/VAT |
| `pnd_sent_for_review_date` | DATETIME | ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏ï‡∏£‡∏ß‡∏à ‡∏†.‡∏á.‡∏î. | PND/WHT |
| `pnd_review_returned_date` | DATETIME | ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏Ñ‡∏∑‡∏ô ‡∏†.‡∏á.‡∏î. | PND/WHT |
| `pnd_sent_to_customer_date` | DATETIME | ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ ‡∏†.‡∏á.‡∏î. | PND/WHT |
| `pp30_sent_for_review_date` | DATETIME | ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏ï‡∏£‡∏ß‡∏à ‡∏†.‡∏û.30 | PP30/VAT |
| `pp30_review_returned_date` | DATETIME | ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏Ñ‡∏∑‡∏ô ‡∏†.‡∏û.30 | PP30/VAT |
| `pp30_sent_to_customer_date` | DATETIME | ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ ‡∏†.‡∏û.30 | PP30/VAT |
| `wht_draft_completed_date` | DATETIME | ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏£‡πà‡∏≤‡∏á‡πÅ‡∏ö‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß (WHT) | PND/WHT |
| `vat_draft_completed_date` | DATETIME | ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏£‡πà‡∏≤‡∏á‡πÅ‡∏ö‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß (VAT) | PP30/VAT |
| `wht_filing_response` | TEXT | ‡∏Å‡∏≤‡∏£‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏¢‡∏∑‡πà‡∏ô‡πÅ‡∏ö‡∏ö (WHT) | PND/WHT |
| `pp30_filing_response` | TEXT | ‡∏Å‡∏≤‡∏£‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏¢‡∏∑‡πà‡∏ô‡πÅ‡∏ö‡∏ö (PP30) | PP30/VAT |
| `pp30_payment_status` | VARCHAR(100) | ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏¢‡∏≠‡∏î‡∏ä‡∏≥‡∏£‡∏∞ ‡∏†.‡∏û.30 | PP30/VAT |
| `pp30_payment_amount` | DECIMAL(15,2) | ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏¢‡∏≠‡∏î‡∏ä‡∏≥‡∏£‡∏∞ ‡∏†.‡∏û.30 | PP30/VAT |
| `income_confirmed` | VARCHAR(100) | ‡∏Ñ‡∏≠‡∏ô‡πÄ‡∏ü‡∏¥‡∏£‡πå‡∏°‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ | PP30/VAT |

### Fields ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏ö‡∏ö‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏†‡∏≤‡∏©‡∏µ

| Field Name | Type | Description |
|-----------|------|-------------|
| `pnd_1_40_1_status` | VARCHAR(100) | ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ ‡∏†.‡∏á.‡∏î. 1/40.1 |
| `pnd_1_40_2_status` | VARCHAR(100) | ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ ‡∏†.‡∏á.‡∏î. 1/40.2 |
| `pnd_3_status` | VARCHAR(100) | ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ ‡∏†.‡∏á.‡∏î. 3 |
| `pnd_53_status` | VARCHAR(100) | ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ ‡∏†.‡∏á.‡∏î. 53 |
| `pp_36_status` | VARCHAR(100) | ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ ‡∏†.‡∏û. 36 |
| `student_loan_form_status` | VARCHAR(100) | ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÅ‡∏ö‡∏ö‡∏¢‡∏∑‡πà‡∏ô‡∏Å‡∏π‡πâ‡∏¢‡∏∑‡∏° |
| `pnd_2_status` | VARCHAR(100) | ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ ‡∏†.‡∏á.‡∏î. 2 |
| `pnd_54_status` | VARCHAR(100) | ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ ‡∏†.‡∏á.‡∏î. 54 |
| `pt_40_status` | VARCHAR(100) | ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ ‡∏†.‡∏ó. 40 |
| `social_security_form_status` | VARCHAR(100) | ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÅ‡∏ö‡∏ö‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏™‡∏±‡∏á‡∏Ñ‡∏° |

### Fields ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡πÅ‡∏ô‡∏ö

| Field Name | Type | Description |
|-----------|------|-------------|
| `pnd_1_40_1_attachment_count` | INT | ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡πÅ‡∏ô‡∏ö ‡∏†.‡∏á.‡∏î. 1/40.1 |
| `pnd_1_40_2_attachment_count` | INT | ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡πÅ‡∏ô‡∏ö ‡∏†.‡∏á.‡∏î. 1/40.2 |
| `pnd_3_attachment_count` | INT | ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡πÅ‡∏ô‡∏ö ‡∏†.‡∏á.‡∏î. 3 |
| `pnd_53_attachment_count` | INT | ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡πÅ‡∏ô‡∏ö ‡∏†.‡∏á.‡∏î. 53 |
| `pp_36_attachment_count` | INT | ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡πÅ‡∏ô‡∏ö ‡∏†.‡∏û. 36 |
| `student_loan_form_attachment_count` | INT | ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡πÅ‡∏ô‡∏ö‡πÅ‡∏ö‡∏ö‡∏¢‡∏∑‡πà‡∏ô‡∏Å‡∏π‡πâ‡∏¢‡∏∑‡∏° |
| `pnd_2_attachment_count` | INT | ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡πÅ‡∏ô‡∏ö ‡∏†.‡∏á.‡∏î. 2 |
| `pnd_54_attachment_count` | INT | ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡πÅ‡∏ô‡∏ö ‡∏†.‡∏á.‡∏î. 54 |
| `pt_40_attachment_count` | INT | ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡πÅ‡∏ô‡∏ö ‡∏†.‡∏ó. 40 |
| `social_security_form_attachment_count` | INT | ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡πÅ‡∏ô‡∏ö‡πÅ‡∏ö‡∏ö‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏™‡∏±‡∏á‡∏Ñ‡∏° |
| `purchase_document_count` | INT | ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏†‡∏≤‡∏©‡∏µ‡∏ã‡∏∑‡πâ‡∏≠ (PP30) |

---

## üìù 5. ‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á

### Frontend Components
- `src/components/TaxStatus/TaxStatusTable.tsx` - ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏¢‡∏∑‡πà‡∏ô‡∏†‡∏≤‡∏©‡∏µ
- `src/components/TaxInspection/TaxInspectionForm.tsx` - ‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏†‡∏≤‡∏©‡∏µ‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡πÄ‡∏î‡∏∑‡∏≠‡∏ô
- `src/components/TaxStatus/FilterSection.tsx` - Filter section ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞
- `src/utils/pp30StatusUtils.ts` - Utility ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö derive PP30 status

### Database Schema
- `Documentation/Database/schema.md` - Schema ‡∏Ç‡∏≠‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á `monthly_tax_data`
- `Documentation/Database/migrations/028_change_pp30_form_to_status.sql` - Migration 028

### Documentation
- `Documentation/Guidebook_for_page/STATUS_SELECTION_GUIDE.md` - ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞

---

## üîÑ 6. ‡∏Å‡∏≤‡∏£‡πÅ‡∏õ‡∏•‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ (Status Mapping)

### Backward Compatibility Mapping

‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÄ‡∏Å‡πà‡∏≤‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥:

| ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÄ‡∏Å‡πà‡∏≤ | ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÉ‡∏´‡∏°‡πà |
|----------|---------|
| `receipt` | `received_receipt` |
| `inquiry` | `inquire_customer` |
| `review` | `additional_review` |
| `edit` | `needs_correction` |

**Location**: `src/components/TaxInspection/TaxInspectionForm.tsx` (lines 579-585)

---

## üìå 7. ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç

1. **PP30 Status Derivation**: ‚ö†Ô∏è ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç - ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏ä‡πá‡∏Ñ `vat_draft_completed_date` ‡∏Å‡πà‡∏≠‡∏ô `pp30_review_returned_date` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á

2. **Status Derivation Order**: ‡∏Å‡∏≤‡∏£ derive ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏à‡∏∞‡∏ó‡∏≥‡∏ï‡∏≤‡∏°‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ timestamp ‡∏´‡∏•‡∏≤‡∏¢‡∏ï‡∏±‡∏ß ‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡∏ï‡∏±‡∏ß‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î

3. **Null Handling**: ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏´‡∏£‡∏∑‡∏≠‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á `-` (‡∏™‡∏µ‡πÄ‡∏ó‡∏≤) ‡∏´‡∏£‡∏∑‡∏≠ `'(‡∏ß‡πà‡∏≤‡∏á)'` ‡∏ï‡∏≤‡∏°‡∏ö‡∏£‡∏¥‡∏ö‡∏ó

4. **Payment Status**: ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏¢‡∏≠‡∏î‡∏ä‡∏≥‡∏£‡∏∞ ‡∏†.‡∏û.30 ‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏õ‡πá‡∏ô Badge ‡πÅ‡∏¢‡∏Å‡∏ï‡πà‡∏≤‡∏á‡∏´‡∏≤‡∏Å ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏™‡πà‡∏ß‡∏ô‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏Ç‡∏≠‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏´‡∏•‡∏±‡∏Å

5. **Form Statuses**: ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Ç‡∏≠‡∏á‡πÅ‡∏ö‡∏ö‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏†‡∏≤‡∏©‡∏µ‡πÅ‡∏ï‡πà‡∏•‡∏∞‡πÅ‡∏ö‡∏ö (‡πÄ‡∏ä‡πà‡∏ô ‡∏†.‡∏á.‡∏î. 1/40.1) ‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô‡∏Å‡∏±‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏´‡∏•‡∏±‡∏Å ‡πÅ‡∏ï‡πà‡πÄ‡∏Å‡πá‡∏ö‡πÅ‡∏¢‡∏Å‡∏Å‡∏±‡∏ô‡πÉ‡∏ô‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•

---

**Last Updated**: 2026-02-03
