---
description: ขั้นตอนการทดสอบโค้ดที่แก้ไขผ่าน Browser และเขียนรายงาน
---

# วิธีทดสอบโค้ดผ่าน Browser

## กฎสำคัญ

- **ทุกครั้ง** ที่แก้ไขโค้ดเสร็จ ต้องทดสอบผ่าน browser_subagent
- **ทุกครั้ง** ที่ทดสอบเสร็จ ต้องเขียนรายงานสรุปผลกลับให้ผู้ใช้
- ดู test credentials จาก `.agent/rules/test-credentials.md`
- ถ้า login ไม่ได้ให้ **ถามผู้ใช้ก่อน** อย่าลองซ้ำเกิน 2 ครั้ง

## ข้อกำหนดก่อนทดสอบ

- ผู้ใช้ต้องรัน dev server (`npm run dev`) ก่อน ตาม workflow `/build-check`
- ถามผู้ใช้ว่า URL ของ frontend คืออะไร (ปกติจะเป็น `http://localhost:3000`)
- เลือก Role ที่เหมาะสมกับหน้าที่ต้องทดสอบ

## ขั้นตอนการทดสอบ

### 1. เตรียมการ

- ถามผู้ใช้ว่า dev server รันอยู่หรือไม่ และ URL คืออะไร
- ระบุว่าจะทดสอบอะไรบ้าง (หน้าไหน, ฟีเจอร์อะไร)

### 2. เข้าสู่ระบบ

- ใช้ `browser_subagent` เปิด URL ของ frontend
- เข้าสู่ระบบด้วย credentials ที่เหมาะสมจาก `.agent/rules/test-credentials.md`
- ถ้า login ไม่สำเร็จ → ถามผู้ใช้ทันที

### 3. ทดสอบฟีเจอร์

- ไปที่หน้าที่เกี่ยวข้องกับโค้ดที่แก้ไข
- ทดสอบ flow หลักๆ ที่ได้รับผลกระทบ
- จับภาพหน้าจอ (screenshot) ในแต่ละขั้นตอน
- ตรวจสอบ:
  - ✅ UI แสดงผลถูกต้อง
  - ✅ ข้อมูลโหลดและแสดงผลได้
  - ✅ การกดปุ่ม/interaction ทำงานปกติ
  - ✅ ไม่มี error ใน console
  - ❌ ถ้าพบปัญหา จดบันทึกไว้

### 4. เขียนรายงานสรุป

ต้องเขียนรายงานกลับให้ผู้ใช้เสมอ โดยมีรูปแบบดังนี้:

```markdown
## 🧪 รายงานผลการทดสอบ

**วันที่ทดสอบ:** [วันที่]
**ทดสอบโดย:** Agent (Role: [role ที่ใช้])
**URL:** [URL ที่ทดสอบ]

### สิ่งที่ทดสอบ

1. [รายการทดสอบ 1]
2. [รายการทดสอบ 2]

### ✅ ผ่าน

- [รายการที่ผ่าน]

### ❌ ไม่ผ่าน (ถ้ามี)

- [รายการที่ไม่ผ่าน + สาเหตุ]

### 📸 ภาพหน้าจอ

- [แนบ screenshots]

### สรุป

[สรุปภาพรวม ผ่าน/ไม่ผ่าน]
```

## หมายเหตุ

- ถ้าทดสอบหน้าที่ต้องใช้สิทธิ์ admin → ใช้ Role admin
- ถ้าทดสอบหน้าที่เกี่ยวกับงาน service → ใช้ Role service
- ถ้าทดสอบหน้าที่เกี่ยวกับ audit/ตรวจสอบ → ใช้ Role audit
